<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happily Ever After Party | Sophie & Nolan</title>
  <meta name="description" content="The elopement website of Sophie Nielsen and Nolan Hamel">
  <link rel="icon" type="image/x-icon" href="/public/favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=La+Belle+Aurore&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sedan:ital@0;1&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Solitreo&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="hero-image">
    <div class="hero-text">
      <h1 style="margin-bottom: 10px;">Sophie & Nolan</h1>
      <p style="margin-block: 0px;">Happily Ever After Party</p>
      <p style="margin-block: -10px;">September 7th 2024</p>
      <p id="days-remaining" style="margin-top: 50px;"></p>
    </div>
    <button id="rsvp-button" class="rsvp-button" onclick="show_rsvp()">RSVP</button>
  </div>

  <div id="rsvp" style="height: fit-content; overflow: hidden;">
    <iframe id="rsvp-form"
      src="https://docs.google.com/forms/d/e/1FAIpQLSe86gs_HByjDmO-G9xul4g9Wm5Qu_iFeOQUTryIqoDUMUWADg/viewform?embedded=true"
      style="width: 100vw; height: 0vh;" frameborder="0" marginheight="0" marginwidth="0">Loadingâ€¦</iframe>
    <img id="hide-rsvp" src="public/up-arrow.svg" onclick="hide_rsvp()" width="30px" height="30px"
      style="display: none; margin: 0 auto; padding: 3px; background-color: rgba(0,0,0,40%); cursor: pointer; border-radius: 50%;">
  </div>

  <div class="section">
    <h1 style="margin-top: 0">Celebrate With Us</h1>
    <p style="margin: 0;">
      Mark your calendars for September 7th, 2024!
      We are delighted to extend to you an invitation to our post-wedding celebration,
      aptly named the "Happily Ever After" party.
      While our wedding will be an intimate hike in Roan Mountain earlier in August,
      we wish to ensure that our cherished family and friends can partake in the joyous occasion too.
    </p>
  </div>

  <div class="section">
    <h1>The Venue</h1>
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2526.9636436049846!2d-81.0150126787197!3d35.01632147691048!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88568f3d60960183%3A0x53efd6e149e9d737!2s3958%20Elks%20Park%20Rd%2C%20Rock%20Hill%2C%20SC%2029732!5e0!3m2!1sen!2sus!4v1715049391965!5m2!1sen!2sus"
      height="450" style="border: solid black 2px; border-radius: 10px; width: 100%;" allowfullscreen="" loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>

  <div class="section">
    <h1>Our Registry</h1>
    <p style="margin: 0;">
      Below is the link to our gift registry. 
      We deeply appreciate any contribution, no matter the size. 
      Alternatively, you can help fund our honeymoon trip to the Phillipines. 
      All can be accessed in the registry. 
      Thank you!
    </p>
    <a href="https://www.myregistry.com/wedding-registry/sophie-nielsen-and-nolan-hamel-rock-hill-sc/3853159/giftlist">
      <button>
        Go to Our Registry
      </button>
    </a>
  </div>

  <div class="section">
    <h1>Our Story</h1>
    <div class="timeline">
      <div id="timeline-images"></div>
    </div>
    <div class="timeline-thumbnails">
      <div id="timeline-image-thumbnails"></div>
    </div>
  </div>
</body>

<script>
  let rsvp_page = document.getElementById("rsvp")
  let rsvp_form = document.getElementById("rsvp-form")
  let rsvp_button = document.getElementById("hide-rsvp")

  function show_rsvp() {
    rsvp_button.style.display = "block";
    rsvp_form.style.animation = "expand-rsvp 400ms forwards";
    rsvp_page.scrollIntoView({ behavior: "smooth" });
  }

  function hide_rsvp() {
    rsvp_button.style.display = "none";
    rsvp_form.style.animation = "retract-rsvp 400ms forwards";
    rsvp_form.addEventListener('animationend', hide_rsvp_callback);
  }

  function hide_rsvp_callback() {
    rsvp_form.removeEventListener('animationend', hide_rsvp_callback);
  }

</script>

<script>
  let days_remaining = document.getElementById("days-remaining");
  let today = new Date();
  let wedding_date = new Date("09/07/2024");
  let day_diff = Math.round((wedding_date.getTime() - today.getTime()) / (1000 * 3600 * 24));

  days_remaining.innerText = `${day_diff}` + " days remaining";
</script>

<script>

  let timeline_image_urls = ["public/timeline_1.jpeg", "public/timeline_2.jpeg", "public/timeline_3.png", "public/timeline_4.png", "public/timeline_5.png", "public/timeline_6.png", "public/timeline_7.png", "public/timeline_8.png", "public/timeline_9.png", "public/timeline_10.jpeg"];

  let timeline_images = document.getElementById("timeline-images");
  let thumbnail_images = document.getElementById("timeline-image-thumbnails");

  let thumbnail_image_list = []
  let timeline_image_list = []

  let active_image_index = 0

  timeline_image_urls.forEach(url => {
    const thumbnail_image = document.createElement("img");
    thumbnail_image.src = url;
    thumbnail_image.classList.add("timeline-image-thumbnail");
    if (url == timeline_image_urls[active_image_index]) thumbnail_image.classList.add("active");
    thumbnail_image.draggable = false;
    thumbnail_image.onclick = set_active_image;
    thumbnail_images.appendChild(thumbnail_image);
    thumbnail_image_list.push(thumbnail_image);

    const timeline_image = document.createElement("img");
    timeline_image.src = url;
    timeline_image.classList.add("timeline-image");
    if (url == timeline_image_urls[active_image_index]) timeline_image.classList.add("active");
    timeline_image.draggable = false;
    timeline_images.appendChild(timeline_image);
    timeline_image_list.push(timeline_image);
  });

  function set_active_image(event) {    
    const image_to_activate = event.target
    // deactivate currently active
    thumbnail_image_list.forEach(image => { 
      image.classList.remove("active");
      if(image.src == image_to_activate.src) image.classList.add("active");
    })
    timeline_image_list.forEach(image  => {
      image.classList.remove("active");
      if(image.src == image_to_activate.src) image.classList.add("active");
    })

    // image_to_activate.classList.add("active");
  }

</script>

</html>